<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>test.js - capybara-2.16.1 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../../";
  var index_rel_prefix = "../../../../";
</script>

<script src="../../../../js/jquery.js"></script>
<script src="../../../../js/darkfish.js"></script>

<link href="../../../../css/fonts.css" rel="stylesheet">
<link href="../../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../../lib/capybara/spec/fixtures/another_test_file_txt.html">another_test_file</a>
  
    <li><a href="../../../../lib/capybara/spec/fixtures/capybara_jpg.html">capybara.jpg</a>
  
    <li><a href="../../../../lib/capybara/spec/fixtures/no_extension.html">no_extension</a>
  
    <li><a href="../../../../lib/capybara/spec/fixtures/test_file_txt.html">test_file</a>
  
    <li><a href="../../../../lib/capybara/spec/public/jquery-ui_js.html">jquery-ui.js</a>
  
    <li><a href="../../../../lib/capybara/spec/public/jquery_js.html">jquery.js</a>
  
    <li><a href="../../../../lib/capybara/spec/public/test_js.html">test.js</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page lib/capybara/spec/public/test.js">

<p>var activeRequests = 0; $(function() {</p>

<pre>$(&#39;#change&#39;).text(&#39;I changed it&#39;);
$(&#39;#drag&#39;).draggable();
$(&#39;#drop&#39;).droppable({
  drop: function(event, ui) {
    ui.draggable.remove();
    $(this).html(&#39;Dropped!&#39;);
  }
});
$(&#39;#clickable&#39;).click(function() {
  var link = $(this);
  setTimeout(function() {
    $(link).after(&#39;&lt;a id=&quot;has-been-clicked&quot; href=&quot;#&quot;&gt;Has been clicked&lt;/a&gt;&#39;);
    $(link).after(&#39;&lt;input type=&quot;submit&quot; value=&quot;New Here&quot;&gt;&#39;);
    $(link).after(&#39;&lt;input type=&quot;text&quot; id=&quot;new_field&quot;&gt;&#39;);
    $(&#39;#change&#39;).remove();
  }, 500);
  return false;
});
$(&#39;#slow-click&#39;).click(function() {
  var link = $(this);
  setTimeout(function() {
    $(link).after(&#39;&lt;a id=&quot;slow-clicked&quot; href=&quot;#&quot;&gt;Slow link clicked&lt;/a&gt;&#39;);
  }, 4000);
  return false;
});
$(&#39;#waiter&#39;).change(function() {
  activeRequests = 1;
  setTimeout(function() {
    activeRequests = 0;
  }, 500);
});
$(&#39;#with_focus_event&#39;).focus(function() {
  $(&#39;body&#39;).append(&#39;&lt;p id=&quot;focus_event_triggered&quot;&gt;Focus Event triggered&lt;/p&gt;&#39;);
});
$(&#39;#with_change_event&#39;).change(function() {
  $(&#39;body&#39;).append($(&#39;&lt;p class=&quot;change_event_triggered&quot;&gt;&lt;/p&gt;&#39;).text(this.value));
});
$(&#39;#with_change_event&#39;).on(&#39;input&#39;, function() {
  $(&#39;body&#39;).append($(&#39;&lt;p class=&quot;input_event_triggered&quot;&gt;&lt;/p&gt;&#39;).text(this.value));
});
$(&#39;#checkbox_with_event&#39;).click(function() {
  $(&#39;body&#39;).append(&#39;&lt;p id=&quot;checkbox_event_triggered&quot;&gt;Checkbox event triggered&lt;/p&gt;&#39;);
});
$(&#39;#fire_ajax_request&#39;).click(function() {
  $.ajax({url: &quot;/slow_response&quot;, context: document.body, success: function() {
    $(&#39;body&#39;).append(&#39;&lt;p id=&quot;ajax_request_done&quot;&gt;Ajax request done&lt;/p&gt;&#39;);
  }});
});
$(&#39;#reload-link&#39;).click(function() {
  setTimeout(function() {
    $(&#39;#reload-me&#39;).replaceWith(&#39;&lt;div id=&quot;reload-me&quot;&gt;&lt;em&gt;&lt;a&gt;has been reloaded&lt;/a&gt;&lt;/em&gt;&lt;/div&gt;&#39;);
  }, 250)
});
$(&#39;#reload-list&#39;).click(function() {
  setTimeout(function() {
    $(&#39;#the-list&#39;).html(&#39;&lt;li&gt;Foo&lt;/li&gt;&lt;li&gt;Bar&lt;/li&gt;&#39;);
  }, 550)
});
$(&#39;#change-title&#39;).click(function() {
  setTimeout(function() {
    $(&#39;title&#39;).text(&#39;changed title&#39;)
  }, 400)
});
$(&#39;#click-test&#39;).on({
  dblclick: function() {
    $(this).after(&#39;&lt;a id=&quot;has-been-double-clicked&quot; href=&quot;#&quot;&gt;Has been double clicked&lt;/a&gt;&#39;);
  },
  contextmenu: function(e) {
    e.preventDefault();
    $(this).after(&#39;&lt;a id=&quot;has-been-right-clicked&quot; href=&quot;#&quot;&gt;Has been right clicked&lt;/a&gt;&#39;);
  }
});
$(&#39;#open-alert&#39;).click(function() {
  alert(&#39;Alert opened [*Yay?*]&#39;);
  $(this).attr(&#39;opened&#39;, &#39;true&#39;);
});
$(&#39;#open-delayed-alert&#39;).click(function() {
  var link = this;
  setTimeout(function() {
    alert(&#39;Delayed alert opened&#39;);
    $(link).attr(&#39;opened&#39;, &#39;true&#39;);
  }, 250);
});
$(&#39;#open-slow-alert&#39;).click(function() {
  var link = this;
  setTimeout(function() {
    alert(&#39;Delayed alert opened&#39;);
    $(link).attr(&#39;opened&#39;, &#39;true&#39;);
  }, 3000);
});
$(&#39;#alert-page-change&#39;).click(function() {
  alert(&#39;Page is changing&#39;);
  return true;
});
$(&#39;#open-confirm&#39;).click(function() {
  if(confirm(&#39;Confirm opened&#39;)) {
    $(this).attr(&#39;confirmed&#39;, &#39;true&#39;);
  } else {
    $(this).attr(&#39;confirmed&#39;, &#39;false&#39;);
  }
});
$(&#39;#open-prompt&#39;).click(function() {
  var response = prompt(&#39;Prompt opened&#39;);
  if(response === null) {
    $(this).attr(&#39;response&#39;, &#39;dismissed&#39;);
  } else {
    $(this).attr(&#39;response&#39;, response);
  }
});
$(&#39;#open-prompt-with-default&#39;).click(function() {
  var response = prompt(&#39;Prompt opened&#39;, &#39;Default value!&#39;);
  if(response === null) {
    $(this).attr(&#39;response&#39;, &#39;dismissed&#39;);
  } else {
    $(this).attr(&#39;response&#39;, response);
  }
});
$(&#39;#open-twice&#39;).click(function() {
  if (confirm(&#39;Are you sure?&#39;)) {
    if (!confirm(&#39;Are you really sure?&#39;)) {
      $(this).attr(&#39;confirmed&#39;, &#39;false&#39;);
    }
  }
})
$(&#39;#delayed-page-change&#39;).click(function() {
  setTimeout(function() {
    window.location.pathname = &#39;/with_html&#39;
  }, 500)
})
$(&#39;#with-key-events&#39;).keydown(function(e){
  $(&#39;#key-events-output&#39;).append(&#39;keydown:&#39;+e.which+&#39; &#39;)
});
$(&#39;#disable-on-click&#39;).click(function(e){
  var input = this
  setTimeout(function() {
    input.disabled = true;
  }, 500)
})
$(&#39;#set-storage&#39;).click(function(e){
  sessionStorage.setItem(&#39;session&#39;, &#39;session_value&#39;);
  localStorage.setItem(&#39;local&#39;, &#39;local value&#39;);
})</pre>

<p>});</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

